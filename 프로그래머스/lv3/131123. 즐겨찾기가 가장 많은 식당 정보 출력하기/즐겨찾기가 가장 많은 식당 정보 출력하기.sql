
WITH TEMP AS(
    SELECT
        FOOD_TYPE,
        MAX(FAVORITES) AS FAVORITES
     FROM REST_INFO
     GROUP BY FOOD_TYPE
)

SELECT 
    FOOD_TYPE,
    REST_ID,
    REST_NAME,
    FAVORITES
    FROM REST_INFO
    WHERE (FOOD_TYPE, FAVORITES) IN (SELECT FOOD_TYPE, FAVORITES FROM TEMP)
    ORDER BY FOOD_TYPE DESC;